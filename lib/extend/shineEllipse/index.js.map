{"version":3,"file":"index.js","sources":["src/components/extend/shineEllipse/VcShineEllipse.vue?rollup-plugin-vue=script.js","src/components/extend/shineEllipse/VcShineEllipse.vue","src/components/extend/shineEllipse/index.js"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n\nimport cmp from '../../../mixins/virtualCmp'\nimport { position, color, show } from '../../../mixins/mixinProps'\nimport { makeColor } from '../../../utils/cesiumHelpers'\nexport default {\n  name: 'vc-shine-ellipse',\n  mixins: [cmp, position, color, show],\n  props: {\n    height: {\n      type: Number,\n      default: undefined\n    },\n    radius: {\n      type: Number,\n      default: 2000\n    },\n    deviationAlpha: {\n      type: Number,\n      default: 0.05\n    },\n    imageUrl: String\n  },\n  data () {\n    return {\n      material: {}\n    }\n  },\n  created () {\n    Object.defineProperties(this, {\n      entity: {\n        enumerable: true,\n        get: () => this.cesiumObject\n      }\n    })\n  },\n  methods: {\n    async createCesiumObject () {\n      const { deviationAlpha, color, imageUrl } = this\n      const colorObject = makeColor(color)\n      this.flag = true\n      this.x = 1\n      this.material = {\n        fabric: {\n          type: 'Image',\n          uniforms: {\n            image: imageUrl,\n            color: () => {\n              if (this.flag) {\n                this.x -= deviationAlpha\n                this.x <= 0 && (this.flag = false)\n              } else {\n                this.x += deviationAlpha\n                this.x >= 1 && (this.flag = true)\n              }\n              return colorObject.withAlpha(this.x)\n            }\n          }\n        }\n      }\n      return this.$refs.entity\n    },\n    async mount () {\n      return true\n    },\n    async unmount () {\n      return true\n    }\n  }\n}\n","<template>\n  <i :class=\"$options.name\" style=\"display: none !important\">\n    <vc-entity ref=\"entity\" :position=\"position\" :show=\"show\">\n      <vc-graphics-ellipse :height=\"height\" :material=\"material\" :semi-major-axis=\"radius\" :semi-minor-axis=\"radius\" />\n    </vc-entity>\n  </i>\n</template>\n\n<script>\nimport cmp from '../../../mixins/virtualCmp'\nimport { position, color, show } from '../../../mixins/mixinProps'\nimport { makeColor } from '../../../utils/cesiumHelpers'\nexport default {\n  name: 'vc-shine-ellipse',\n  mixins: [cmp, position, color, show],\n  props: {\n    height: {\n      type: Number,\n      default: undefined\n    },\n    radius: {\n      type: Number,\n      default: 2000\n    },\n    deviationAlpha: {\n      type: Number,\n      default: 0.05\n    },\n    imageUrl: String\n  },\n  data () {\n    return {\n      material: {}\n    }\n  },\n  created () {\n    Object.defineProperties(this, {\n      entity: {\n        enumerable: true,\n        get: () => this.cesiumObject\n      }\n    })\n  },\n  methods: {\n    async createCesiumObject () {\n      const { deviationAlpha, color, imageUrl } = this\n      const colorObject = makeColor(color)\n      this.flag = true\n      this.x = 1\n      this.material = {\n        fabric: {\n          type: 'Image',\n          uniforms: {\n            image: imageUrl,\n            color: () => {\n              if (this.flag) {\n                this.x -= deviationAlpha\n                this.x <= 0 && (this.flag = false)\n              } else {\n                this.x += deviationAlpha\n                this.x >= 1 && (this.flag = true)\n              }\n              return colorObject.withAlpha(this.x)\n            }\n          }\n        }\n      }\n      return this.$refs.entity\n    },\n    async mount () {\n      return true\n    },\n    async unmount () {\n      return true\n    }\n  }\n}\n</script>\n","import VcShineEllipse from './VcShineEllipse.vue'\n// 按需引入该组件时自动引入下面组件才能正常工作\nimport * as Entity from '../../entity'\nimport * as EllipseGraphics from '../../entity/ellipse'\nfunction plugin (Vue, options = {}) {\n  if (plugin.installed) {\n    return\n  }\n  plugin.installed = true\n\n  Vue.use(Entity)\n  Vue.use(EllipseGraphics)\n\n  Vue.component(VcShineEllipse.name, VcShineEllipse)\n}\n\nexport default plugin\n\nexport {\n  VcShineEllipse,\n  plugin as install\n}\n"],"names":["name","mixins","cmp","position","color","show","props","height","type","Number","default","undefined","radius","deviationAlpha","imageUrl","String","data","material","created","Object","defineProperties","entity","enumerable","get","cesiumObject","methods","createCesiumObject","colorObject","makeColor","flag","x","fabric","uniforms","image","withAlpha","$refs","mount","unmount","plugin","Vue","installed","use","Entity","EllipseGraphics","component","VcShineEllipse"],"mappings":"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"}