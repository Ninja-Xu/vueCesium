{"version":3,"file":"lang.js","sources":["src/exts/lang.js"],"sourcesContent":["import Vue from 'vue'\n\nimport langZh from '../../lang/zh-hans'\n\nexport default {\n  install ($vc, lang) {\n    this.set = (lang = langZh) => {\n      lang.set = this.set\n      lang.getLocale = this.getLocale\n      lang.rtl = lang.rtl === true || false\n\n      const el = document.documentElement\n      el.setAttribute('dir', lang.rtl ? 'rtl' : 'ltr')\n      el.setAttribute('lang', lang.isoName)\n\n      if ($vc.lang !== undefined) {\n        $vc.lang = lang\n      } else {\n        Vue.util.defineReactive($vc, 'lang', lang)\n      }\n\n      this.isoName = lang.isoName\n      this.nativeName = lang.nativeName\n      this.props = lang\n    }\n\n    this.set(lang)\n  },\n\n  getLocale () {\n    const val =\n      navigator.language ||\n      navigator.languages[0] ||\n      navigator.browserLanguage ||\n      navigator.userLanguage ||\n      navigator.systemLanguage\n\n    if (val) {\n      return val.toLowerCase()\n    }\n  }\n}\n"],"names":["install","$vc","lang","set","langZh","getLocale","rtl","el","document","documentElement","setAttribute","isoName","undefined","Vue","util","defineReactive","nativeName","props","val","navigator","language","languages","browserLanguage","userLanguage","systemLanguage","toLowerCase"],"mappings":";;;;;;;;;;;;;;AAIA,WAAe;AACbA,EAAAA,OADa,mBACJC,GADI,EACCC,IADD,EACO;AAAA;;AAClB,SAAKC,GAAL,GAAW,YAAmB;AAAA,UAAlBD,IAAkB,uEAAXE,MAAW;AAC5BF,MAAAA,IAAI,CAACC,GAAL,GAAW,KAAI,CAACA,GAAhB;AACAD,MAAAA,IAAI,CAACG,SAAL,GAAiB,KAAI,CAACA,SAAtB;AACAH,MAAAA,IAAI,CAACI,GAAL,GAAWJ,IAAI,CAACI,GAAL,KAAa,IAAb,IAAqB,KAAhC;AAEA,UAAMC,EAAE,GAAGC,QAAQ,CAACC,eAApB;AACAF,MAAAA,EAAE,CAACG,YAAH,CAAgB,KAAhB,EAAuBR,IAAI,CAACI,GAAL,GAAW,KAAX,GAAmB,KAA1C;AACAC,MAAAA,EAAE,CAACG,YAAH,CAAgB,MAAhB,EAAwBR,IAAI,CAACS,OAA7B;;AAEA,UAAIV,GAAG,CAACC,IAAJ,KAAaU,SAAjB,EAA4B;AAC1BX,QAAAA,GAAG,CAACC,IAAJ,GAAWA,IAAX;AACD,OAFD,MAEO;AACLW,QAAAA,GAAG,CAACC,IAAJ,CAASC,cAAT,CAAwBd,GAAxB,EAA6B,MAA7B,EAAqCC,IAArC;AACD;;AAED,MAAA,KAAI,CAACS,OAAL,GAAeT,IAAI,CAACS,OAApB;AACA,MAAA,KAAI,CAACK,UAAL,GAAkBd,IAAI,CAACc,UAAvB;AACA,MAAA,KAAI,CAACC,KAAL,GAAaf,IAAb;AACD,KAlBD;;AAoBA,SAAKC,GAAL,CAASD,IAAT;AACD,GAvBY;AAyBbG,EAAAA,SAzBa,uBAyBA;AACX,QAAMa,GAAG,GACPC,SAAS,CAACC,QAAV,IACAD,SAAS,CAACE,SAAV,CAAoB,CAApB,CADA,IAEAF,SAAS,CAACG,eAFV,IAGAH,SAAS,CAACI,YAHV,IAIAJ,SAAS,CAACK,cALZ;;AAOA,QAAIN,GAAJ,EAAS;AACP,aAAOA,GAAG,CAACO,WAAJ,EAAP;AACD;AACF;AApCY,CAAf;;;;"}