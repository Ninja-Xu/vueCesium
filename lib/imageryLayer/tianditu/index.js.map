{"version":3,"file":"index.js","sources":["src/components/imageryLayer/tianditu/TiandituImageryProvider.vue?rollup-plugin-vue=script.js","src/components/imageryLayer/tianditu/TiandituImageryProvider.vue","src/components/imageryLayer/tianditu/index.js"],"sourcesContent":["\nimport mixinImageryProvider from '../../../mixins/providers/mixinImageryProvider'\nimport TiandituImageryProvider from '../../../exts/imageryProvider/TiandituImageryProvider'\nimport { minimumLevel, maximumLevel } from '../../../mixins/mixinProps'\nexport default {\n  name: 'vc-provider-imagery-tianditu',\n  mixins: [minimumLevel, maximumLevel, mixinImageryProvider],\n  props: {\n    mapStyle: String,\n    token: String,\n    protocol: {\n      type: String,\n      default: 'https'\n    }\n  },\n  methods: {\n    async createCesiumObject () {\n      const { $props, transformProps, setPropWatchers, unwatchFns } = this\n      const options = transformProps($props)\n      Cesium.TiandituImageryProvider = TiandituImageryProvider\n      // 之前注册时 TiandituImageryProvider 可能还不存在，导致注册失败，这儿需要再注册 Vue 侦听器。\n      // 这种情况下会导致在`vc-viewer`组件的ready事件中对 'vc-provider-imagery-tianditu' 属性赋值失败。\n      // 原因是 `vc-viewer` 组件ready事件触发时，'vc-provider-imagery-tianditu'侦听器还没被创建呢。\n      if (unwatchFns.length === 0) { setPropWatchers(true) }\n      return new Cesium.TiandituImageryProvider(options)\n    }\n  }\n}\n","<script>\nimport mixinImageryProvider from '../../../mixins/providers/mixinImageryProvider'\nimport TiandituImageryProvider from '../../../exts/imageryProvider/TiandituImageryProvider'\nimport { minimumLevel, maximumLevel } from '../../../mixins/mixinProps'\nexport default {\n  name: 'vc-provider-imagery-tianditu',\n  mixins: [minimumLevel, maximumLevel, mixinImageryProvider],\n  props: {\n    mapStyle: String,\n    token: String,\n    protocol: {\n      type: String,\n      default: 'https'\n    }\n  },\n  methods: {\n    async createCesiumObject () {\n      const { $props, transformProps, setPropWatchers, unwatchFns } = this\n      const options = transformProps($props)\n      Cesium.TiandituImageryProvider = TiandituImageryProvider\n      // 之前注册时 TiandituImageryProvider 可能还不存在，导致注册失败，这儿需要再注册 Vue 侦听器。\n      // 这种情况下会导致在`vc-viewer`组件的ready事件中对 'vc-provider-imagery-tianditu' 属性赋值失败。\n      // 原因是 `vc-viewer` 组件ready事件触发时，'vc-provider-imagery-tianditu'侦听器还没被创建呢。\n      if (unwatchFns.length === 0) { setPropWatchers(true) }\n      return new Cesium.TiandituImageryProvider(options)\n    }\n  }\n}\n</script>\n","import TiandituImageryProvider from './TiandituImageryProvider.vue'\n\nfunction plugin (Vue, options = {}) {\n  if (plugin.installed) {\n    return\n  }\n  plugin.installed = true\n\n  Vue.component(TiandituImageryProvider.name, TiandituImageryProvider)\n}\n\nexport default plugin\n\nexport {\n  TiandituImageryProvider,\n  plugin as install\n}\n"],"names":["name","mixins","minimumLevel","maximumLevel","mixinImageryProvider","props","mapStyle","String","token","protocol","type","default","methods","createCesiumObject","$props","transformProps","setPropWatchers","unwatchFns","options","Cesium","TiandituImageryProvider","length","plugin","Vue","installed","component"],"mappings":";;;;;;;;;;;;;;;;;AAIA,aAAe;AACbA,EAAAA,IAAI,EAAE,8BADO;AAEbC,EAAAA,MAAM,EAAE,CAACC,YAAD,EAAeC,YAAf,EAA6BC,oBAA7B,CAFK;AAGbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAEC,MADL;AAELC,IAAAA,KAAK,EAAED,MAFF;AAGLE,IAAAA,QAAQ,EAAE;AACRC,MAAAA,IAAI,EAAEH,MADE;AAERI,MAAAA,OAAO,EAAE;AAFD;AAHL,GAHM;AAWbC,EAAAA,OAAO,EAAE;AACDC,IAAAA,kBADC,gCACqB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAClBC,gBAAAA,MADkB,GACsC,KADtC,CAClBA,MADkB,EACVC,cADU,GACsC,KADtC,CACVA,cADU,EACMC,eADN,GACsC,KADtC,CACMA,eADN,EACuBC,UADvB,GACsC,KADtC,CACuBA,UADvB;AAEpBC,gBAAAA,OAFoB,GAEVH,cAAc,CAACD,MAAD,CAFJ;AAG1BK,gBAAAA,MAAM,CAACC,uBAAP,GAAiCA,yBAAjC,CAH0B;AAK1B;AACA;;AACA,oBAAIH,UAAU,CAACI,MAAX,KAAsB,CAA1B,EAA6B;AAAEL,kBAAAA,eAAe,CAAC,IAAD,CAAf;AAAuB;;AAP5B,iDAQnB,IAAIG,MAAM,CAACC,uBAAX,CAAmCF,OAAnC,CARmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAS3B;AAVM;AAXI,CAAf;;;ACDY,2BAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDZ,SAASI,MAAT,CAAiBC,GAAjB,EAAoC;AAAA;AAClC,MAAID,MAAM,CAACE,SAAX,EAAsB;AACpB;AACD;;AACDF,EAAAA,MAAM,CAACE,SAAP,GAAmB,IAAnB;AAEAD,EAAAA,GAAG,CAACE,SAAJ,CAAcL,uBAAuB,CAACpB,IAAtC,EAA4CoB,uBAA5C;AACD;;;;;"}