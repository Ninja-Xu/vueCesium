{"version":3,"file":"mixinGraphic.js","sources":["src/mixins/graphics/mixinGraphic.js"],"sourcesContent":["import bindEvents from '../../utils/bindEvent'\nimport { Events } from '../../utils/events'\nimport cmp from '../virtualCmp'\n\nconst methods = {\n  /**\n   * 用异步方式的将 graphics 挂载到 entity。\n   */\n  async mount () {\n    const { graphics, graphicsContainer, $options } = this\n    bindEvents.call(this, graphics, Events['entity-events'])\n    const arr = $options.name.split('-')\n    return graphicsContainer && graphicsContainer.setGraphics(graphics, arr.length === 3 ? arr[2] : 'polylineVolume')\n  },\n  /**\n   * 用异步方的式将 graphics 从 entity 卸载。\n   */\n  async unmount () {\n    const { graphics, graphicsContainer, $options } = this\n    bindEvents.call(this, graphics, Events['entity-events'], false)\n    const arr = $options.name.split('-')\n    return graphicsContainer && graphicsContainer.setGraphics(undefined, arr.length === 3 ? arr[2] : 'polylineVolume')\n  }\n}\n/**\n * 与 vc-entity 组件关联的各 graphics 子组件基础混入方法。\n */\nexport default {\n  mixins: [cmp],\n  methods,\n  stubVNode: {\n    empty () {\n      return this.$options.name\n    }\n  },\n  created () {\n    Object.defineProperties(this, {\n      graphics: {\n        enumerable: true,\n        get: () => this.cesiumObject\n      },\n      graphicsContainer: {\n        enumerable: true,\n        get: () => this.$services && this.$services.graphicsContainer\n      }\n    })\n  }\n}\n"],"names":["methods","mount","graphics","graphicsContainer","$options","bindEvents","call","Events","arr","name","split","setGraphics","length","unmount","undefined","mixins","cmp","stubVNode","empty","created","Object","defineProperties","enumerable","get","cesiumObject","$services"],"mappings":";;;;;;;;;;;;;;;;;AAIA,IAAMA,OAAO,GAAG;AACd;AACF;AACA;AACQC,EAAAA,KAJQ,mBAIC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACLC,cAAAA,QADK,GACqC,KADrC,CACLA,QADK,EACKC,iBADL,GACqC,KADrC,CACKA,iBADL,EACwBC,QADxB,GACqC,KADrC,CACwBA,QADxB;AAEbC,cAAAA,UAAU,CAACC,IAAX,CAAgB,KAAhB,EAAsBJ,QAAtB,EAAgCK,MAAM,CAAC,eAAD,CAAtC;AACMC,cAAAA,GAHO,GAGDJ,QAAQ,CAACK,IAAT,CAAcC,KAAd,CAAoB,GAApB,CAHC;AAAA,+CAINP,iBAAiB,IAAIA,iBAAiB,CAACQ,WAAlB,CAA8BT,QAA9B,EAAwCM,GAAG,CAACI,MAAJ,KAAe,CAAf,GAAmBJ,GAAG,CAAC,CAAD,CAAtB,GAA4B,gBAApE,CAJf;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKd,GATa;;AAUd;AACF;AACA;AACQK,EAAAA,OAbQ,qBAaG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACPX,cAAAA,QADO,GACmC,MADnC,CACPA,QADO,EACGC,iBADH,GACmC,MADnC,CACGA,iBADH,EACsBC,QADtB,GACmC,MADnC,CACsBA,QADtB;AAEfC,cAAAA,UAAU,CAACC,IAAX,CAAgB,MAAhB,EAAsBJ,QAAtB,EAAgCK,MAAM,CAAC,eAAD,CAAtC,EAAyD,KAAzD;AACMC,cAAAA,GAHS,GAGHJ,QAAQ,CAACK,IAAT,CAAcC,KAAd,CAAoB,GAApB,CAHG;AAAA,gDAIRP,iBAAiB,IAAIA,iBAAiB,CAACQ,WAAlB,CAA8BG,SAA9B,EAAyCN,GAAG,CAACI,MAAJ,KAAe,CAAf,GAAmBJ,GAAG,CAAC,CAAD,CAAtB,GAA4B,gBAArE,CAJb;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKhB;AAlBa,CAAhB;AAoBA;AACA;AACA;;AACA,mBAAe;AACbO,EAAAA,MAAM,EAAE,CAACC,GAAD,CADK;AAEbhB,EAAAA,OAAO,EAAPA,OAFa;AAGbiB,EAAAA,SAAS,EAAE;AACTC,IAAAA,KADS,mBACA;AACP,aAAO,KAAKd,QAAL,CAAcK,IAArB;AACD;AAHQ,GAHE;AAQbU,EAAAA,OARa,qBAQF;AAAA;;AACTC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,IAAxB,EAA8B;AAC5BnB,MAAAA,QAAQ,EAAE;AACRoB,QAAAA,UAAU,EAAE,IADJ;AAERC,QAAAA,GAAG,EAAE;AAAA,iBAAM,MAAI,CAACC,YAAX;AAAA;AAFG,OADkB;AAK5BrB,MAAAA,iBAAiB,EAAE;AACjBmB,QAAAA,UAAU,EAAE,IADK;AAEjBC,QAAAA,GAAG,EAAE;AAAA,iBAAM,MAAI,CAACE,SAAL,IAAkB,MAAI,CAACA,SAAL,CAAetB,iBAAvC;AAAA;AAFY;AALS,KAA9B;AAUD;AAnBY,CAAf;;;;"}