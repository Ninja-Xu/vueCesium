{"version":3,"file":"mixinPrimitiveCollection.js","sources":["src/mixins/primitives/mixinPrimitiveCollection.js"],"sourcesContent":["/**\n * for\n * PrimitiveCollection\n * BillboardCollection\n * LabelCollection\n * PointPrimitiveCollection\n * PolylineCollection\n */\nimport cmp from '../virtualCmp'\nimport mergeDescriptors from '../../utils/mergeDescriptors'\nimport mixinPickEvent from '../event/mixinPickEvent'\n\nconst methods = {\n  async mount () {\n    const { primitives, collection, registerEvents } = this\n    registerEvents(true)\n    collection._vcParent = primitives\n    return primitives && primitives.add(collection)\n  },\n  async unmount () {\n    const { primitives, collection, registerEvents } = this\n    registerEvents(false)\n    return primitives && !collection.isDestroyed() && primitives.remove(collection)\n  },\n  getServices () {\n    const vm = this\n    return mergeDescriptors(cmp.methods.getServices.call(this), {\n      get primitives () {\n        return vm.collection\n      },\n      get collectionContainer () {\n        return vm\n      }\n    })\n  }\n}\n\nexport default {\n  mixins: [cmp, mixinPickEvent],\n  methods,\n  props: {\n    enableEvent: {\n      type: Boolean,\n      default: true\n    }\n  },\n  stubVNode: {\n    attrs () {\n      return {\n        class: this.$options.name\n      }\n    }\n  },\n  created () {\n    Object.defineProperties(this, {\n      collection: {\n        enumerable: true,\n        get: () => this.cesiumObject\n      },\n      primitives: {\n        enumerable: true,\n        get: () => this.$services && this.$services.primitives\n      },\n      groundPrimitives: {\n        enumerable: true,\n        get: () => this.$services && this.$services.groundPrimitives\n      }\n    })\n  }\n}\n"],"names":["methods","mount","primitives","collection","registerEvents","_vcParent","add","unmount","isDestroyed","remove","getServices","vm","mergeDescriptors","cmp","call","collectionContainer","mixins","mixinPickEvent","props","enableEvent","type","Boolean","default","stubVNode","attrs","class","$options","name","created","Object","defineProperties","enumerable","get","cesiumObject","$services","groundPrimitives"],"mappings":";;;;;;;;;;;;;;;;;AAYA,IAAMA,OAAO,GAAG;AACRC,EAAAA,KADQ,mBACC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACLC,cAAAA,UADK,GACsC,KADtC,CACLA,UADK,EACOC,UADP,GACsC,KADtC,CACOA,UADP,EACmBC,cADnB,GACsC,KADtC,CACmBA,cADnB;AAEbA,cAAAA,cAAc,CAAC,IAAD,CAAd;AACAD,cAAAA,UAAU,CAACE,SAAX,GAAuBH,UAAvB;AAHa,+CAINA,UAAU,IAAIA,UAAU,CAACI,GAAX,CAAeH,UAAf,CAJR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKd,GANa;AAORI,EAAAA,OAPQ,qBAOG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACPL,cAAAA,UADO,GACoC,MADpC,CACPA,UADO,EACKC,UADL,GACoC,MADpC,CACKA,UADL,EACiBC,cADjB,GACoC,MADpC,CACiBA,cADjB;AAEfA,cAAAA,cAAc,CAAC,KAAD,CAAd;AAFe,gDAGRF,UAAU,IAAI,CAACC,UAAU,CAACK,WAAX,EAAf,IAA2CN,UAAU,CAACO,MAAX,CAAkBN,UAAlB,CAHnC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIhB,GAXa;AAYdO,EAAAA,WAZc,yBAYC;AACb,QAAMC,EAAE,GAAG,IAAX;AACA,WAAOC,gBAAgB,CAACC,GAAG,CAACb,OAAJ,CAAYU,WAAZ,CAAwBI,IAAxB,CAA6B,IAA7B,CAAD,EAAqC;AAC1D,UAAIZ,UAAJ,GAAkB;AAChB,eAAOS,EAAE,CAACR,UAAV;AACD,OAHyD;;AAI1D,UAAIY,mBAAJ,GAA2B;AACzB,eAAOJ,EAAP;AACD;;AANyD,KAArC,CAAvB;AAQD;AAtBa,CAAhB;AAyBA,+BAAe;AACbK,EAAAA,MAAM,EAAE,CAACH,GAAD,EAAMI,cAAN,CADK;AAEbjB,EAAAA,OAAO,EAAPA,OAFa;AAGbkB,EAAAA,KAAK,EAAE;AACLC,IAAAA,WAAW,EAAE;AACXC,MAAAA,IAAI,EAAEC,OADK;AAEXC,MAAAA,OAAO,EAAE;AAFE;AADR,GAHM;AASbC,EAAAA,SAAS,EAAE;AACTC,IAAAA,KADS,mBACA;AACP,aAAO;AACLC,QAAAA,KAAK,EAAE,KAAKC,QAAL,CAAcC;AADhB,OAAP;AAGD;AALQ,GATE;AAgBbC,EAAAA,OAhBa,qBAgBF;AAAA;;AACTC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,IAAxB,EAA8B;AAC5B3B,MAAAA,UAAU,EAAE;AACV4B,QAAAA,UAAU,EAAE,IADF;AAEVC,QAAAA,GAAG,EAAE;AAAA,iBAAM,MAAI,CAACC,YAAX;AAAA;AAFK,OADgB;AAK5B/B,MAAAA,UAAU,EAAE;AACV6B,QAAAA,UAAU,EAAE,IADF;AAEVC,QAAAA,GAAG,EAAE;AAAA,iBAAM,MAAI,CAACE,SAAL,IAAkB,MAAI,CAACA,SAAL,CAAehC,UAAvC;AAAA;AAFK,OALgB;AAS5BiC,MAAAA,gBAAgB,EAAE;AAChBJ,QAAAA,UAAU,EAAE,IADI;AAEhBC,QAAAA,GAAG,EAAE;AAAA,iBAAM,MAAI,CAACE,SAAL,IAAkB,MAAI,CAACA,SAAL,CAAeC,gBAAvC;AAAA;AAFW;AATU,KAA9B;AAcD;AA/BY,CAAf;;;;"}