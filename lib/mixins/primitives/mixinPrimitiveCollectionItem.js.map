{"version":3,"file":"mixinPrimitiveCollectionItem.js","sources":["src/mixins/primitives/mixinPrimitiveCollectionItem.js"],"sourcesContent":["/**\n * Label\n * PointPrimitive\n * Polyline\n * Billboard\n */\nimport cmp from '../virtualCmp'\nimport mixinPickEvent from '../event/mixinPickEvent'\nconst methods = {\n  /**\n   * 重写 createCesiumObject 方法。\n   */\n  async createCesiumObject () {\n    const { $props, transformProps, primitives } = this\n    const options = transformProps($props)\n    return primitives && primitives.add(options)\n  },\n  async mount () {\n    const { primitives, primitive, registerEvents } = this\n    registerEvents(true)\n    return primitives && primitives.contains(primitive)\n  },\n  async unmount () {\n    const { primitives, primitive, registerEvents } = this\n    registerEvents(false)\n    return primitives && !primitives.isDestroyed() && primitives.remove(primitive)\n  }\n}\nexport default {\n  props: {\n    enableEvent: {\n      type: Boolean,\n      default: true\n    }\n  },\n  mixins: [cmp, mixinPickEvent],\n  methods,\n  stubVNode: {\n    empty () {\n      return this.$options.name\n    }\n  },\n  created () {\n    this.index = 0\n    Object.defineProperties(this, {\n      primitive: {\n        enumerable: true,\n        get: () => this.cesiumObject\n      },\n      primitives: {\n        enumerable: true,\n        get: () => this.$services && this.$services.primitives\n      }\n    })\n  }\n}\n"],"names":["methods","createCesiumObject","$props","transformProps","primitives","options","add","mount","primitive","registerEvents","contains","unmount","isDestroyed","remove","props","enableEvent","type","Boolean","default","mixins","cmp","mixinPickEvent","stubVNode","empty","$options","name","created","index","Object","defineProperties","enumerable","get","cesiumObject","$services"],"mappings":";;;;;;;;;;;;;;;;AAQA,IAAMA,OAAO,GAAG;AACd;AACF;AACA;AACQC,EAAAA,kBAJQ,gCAIc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAClBC,cAAAA,MADkB,GACqB,KADrB,CAClBA,MADkB,EACVC,cADU,GACqB,KADrB,CACVA,cADU,EACMC,UADN,GACqB,KADrB,CACMA,UADN;AAEpBC,cAAAA,OAFoB,GAEVF,cAAc,CAACD,MAAD,CAFJ;AAAA,+CAGnBE,UAAU,IAAIA,UAAU,CAACE,GAAX,CAAeD,OAAf,CAHK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAI3B,GARa;AASRE,EAAAA,KATQ,mBASC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACLH,cAAAA,UADK,GACqC,MADrC,CACLA,UADK,EACOI,SADP,GACqC,MADrC,CACOA,SADP,EACkBC,cADlB,GACqC,MADrC,CACkBA,cADlB;AAEbA,cAAAA,cAAc,CAAC,IAAD,CAAd;AAFa,gDAGNL,UAAU,IAAIA,UAAU,CAACM,QAAX,CAAoBF,SAApB,CAHR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAId,GAba;AAcRG,EAAAA,OAdQ,qBAcG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACPP,cAAAA,UADO,GACmC,MADnC,CACPA,UADO,EACKI,SADL,GACmC,MADnC,CACKA,SADL,EACgBC,cADhB,GACmC,MADnC,CACgBA,cADhB;AAEfA,cAAAA,cAAc,CAAC,KAAD,CAAd;AAFe,gDAGRL,UAAU,IAAI,CAACA,UAAU,CAACQ,WAAX,EAAf,IAA2CR,UAAU,CAACS,MAAX,CAAkBL,SAAlB,CAHnC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIhB;AAlBa,CAAhB;AAoBA,mCAAe;AACbM,EAAAA,KAAK,EAAE;AACLC,IAAAA,WAAW,EAAE;AACXC,MAAAA,IAAI,EAAEC,OADK;AAEXC,MAAAA,OAAO,EAAE;AAFE;AADR,GADM;AAObC,EAAAA,MAAM,EAAE,CAACC,GAAD,EAAMC,cAAN,CAPK;AAQbrB,EAAAA,OAAO,EAAPA,OARa;AASbsB,EAAAA,SAAS,EAAE;AACTC,IAAAA,KADS,mBACA;AACP,aAAO,KAAKC,QAAL,CAAcC,IAArB;AACD;AAHQ,GATE;AAcbC,EAAAA,OAda,qBAcF;AAAA;;AACT,SAAKC,KAAL,GAAa,CAAb;AACAC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,IAAxB,EAA8B;AAC5BrB,MAAAA,SAAS,EAAE;AACTsB,QAAAA,UAAU,EAAE,IADH;AAETC,QAAAA,GAAG,EAAE;AAAA,iBAAM,MAAI,CAACC,YAAX;AAAA;AAFI,OADiB;AAK5B5B,MAAAA,UAAU,EAAE;AACV0B,QAAAA,UAAU,EAAE,IADF;AAEVC,QAAAA,GAAG,EAAE;AAAA,iBAAM,MAAI,CAACE,SAAL,IAAkB,MAAI,CAACA,SAAL,CAAe7B,UAAvC;AAAA;AAFK;AALgB,KAA9B;AAUD;AA1BY,CAAf;;;;"}